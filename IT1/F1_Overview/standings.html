<!DOCTYPE html>
<html lang="nob" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Standings</title>
  <link rel="stylesheet" href="F1.css">
  <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
<script>
// Initialize Firebase
var config = {
  apiKey: "AIzaSyAa23f4pd3TeNfBSX5gowzBBGozl-ydtBw",
  authDomain: "f1-overview.firebaseapp.com",
  databaseURL: "https://f1-overview.firebaseio.com",
  projectId: "f1-overview",
  storageBucket: "f1-overview.appspot.com",
  messagingSenderId: "1057935598309"
};
firebase.initializeApp(config);
</script>
</head>

<body>
  <header>
    <h1>Standings</h1>
    <div class="skrt">
      <span>F1</span>
      <div class="innhold">
        <a href="F2Hjem.html">F2</a>
        <a href="F3Hjem.html">F3</a>
        <a href="FEHjem.html">FE</a>
      </div>
    </div>
    <nav class="nav">
      <ul>
          <li><a href="drivers.html">Drivers</a></li>
          <li><a href="races.html">Races</a></li>
          <li><a href="standings.html">Standings</a></li>
          <li><a href="F1hjem.html">Hjem</a></li>
        </ul>
    </nav>
  </header>

  <main id="standingser">
    <section class="tabell">
    <table>
      <thead>
      <tr>
      <th>Points:</th>

      <th>Driver:</th>

      <th>Team:</th>
      </tr>
      </thead>
      <tbody id="eskret">

      </tbody>
    </table>
  </section>
  </main>

  <script type="text/javascript">
  const main = document.querySelector("#eskret"); // Variabel som referer til mian-elementet

    // Referanser til databasen
  const db = firebase.database();
  const skrtere = db.ref("førere"); // Referer til alt som ligger under sko i databasen

  start();

  function start() {
    skrtere
    .orderByChild("points")
    .on("child_added", genererTing);
  }

  function genererTing(snapshot){
        //Javascript-funksjon som skriver varene ut på nettsiden i main-elementet
      let key = snapshot.key;
      let f1Snap = snapshot.val();

      main.innerHTML =`
            <tr>
            <td>${f1Snap.points}</td>
            <td>${key}</td>
            <td>${f1Snap.currentteam}</td>
            </tr>
      ` + main.innerHTML;
    }
  </script>
</body>

</html>
